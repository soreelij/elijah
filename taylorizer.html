<!DOCTYPE html>
<html>
<head>
    <title>Taylorizer</title>
</head>

<body>
<div>
    <div><strong>Taylorizer</strong> - generate custom Taylor Swift lyrics from an AI using GPT-2</div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</div>
<div>
    <form id="lyricsForm">
        <label>
            Starting Lyric:
            <input id="inputLyrics" type="text"/>
        </label>
    </form>
    <button id="btnSubmit">Get Lyrics</button>
</div>
</body>
<script>

    document.getElementById("btnSubmit").onclick = submit;

    function submit() {

        let startingLyric = document.getElementById("inputLyrics").value;

        console.log("getting lyrics...");

        // $.post(
        //     "https://gpt2-nkxmmqpf7q-uw.a.run.app",
        //     {'length':100, 'temperature':0.8},
        //     function(data) {
        //         console.log(data);
        // });

        $.ajax({
            url: "https://gpt2-nkxmmqpf7q-uw.a.run.app",
            type:'POST',
            contentType:"application/json; charset=utf-8",
            data: {
                "length": 100
            },
            dataType: 'json',
            success: function(data) {
                console.log(data);
            }
        });
    }

    // function apiUrl(startingLyric) {
    //     if (startingLyric != null) {
    //         return "https://gpt2-nkxmmqpf7q-uw.a.run.app?length=100&temperature=0.8&prefix="
    //     } else {
    //
    //     }
    // }
</script>
</html>
